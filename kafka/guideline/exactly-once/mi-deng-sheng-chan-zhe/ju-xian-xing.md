# 局限性

**幂等生产者只能防止由生产者内部重试逻辑引起的消息重复，不管这种重试是由生产者、网络还是broker错误所导致。**<mark style="color:blue;">**对于使用同一条消息调用两次producer.send()就会导致消息重复的情况，即使使用幂等生产者也无法避免。**</mark>这是因为生产者无法知道这两条消息实际上是一样的。

**应用程序有多个实例或一个实例有多个生产者的情况非常常见。如果两个生产者尝试发送同样的消息，则幂等生产者将无法检测到消息重复。**
