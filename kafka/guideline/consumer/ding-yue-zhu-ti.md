# 订阅主题

在创建好消费者之后，下一步就可以开始订阅主题了。

<mark style="color:blue;">**subscribe()**</mark>方法会接收一个主题列表作为参数，也可以在调用subscribe()方法时传入一个**正则表达式**。

**正则表达式可以匹配多个主题，如果有人创建了新主题，并且主题的名字与正则表达式匹配，那么就会立即触发一次再均衡，然后消费者就可以读取新主题里的消息**。

* 如果应用程序需要读取多个主题，并且可以处理不同类型的数据，那么这种订阅方式就很有用。
* 在Kafka和其他系统之间复制数据的应用程序或流式处理应用程序经常使用正则表达式来订阅多个主题。

{% hint style="warning" %}
## <mark style="color:orange;">注意</mark>

**当你使用正则表达式而不是指定列表订阅主题时，消费者将定期向broker请求所有已订阅的主题及分区。然后，客户端会用这个列表来检查是否有新增的主题，如果有，就订阅它们。**

<mark style="color:orange;">**如果主题很多，消费者也很多，那么通过正则表达式订阅主题就会给broker、客户端和网络带来很大的开销**</mark><mark style="color:orange;">。</mark>在某些情况下，主题元数据使用的带宽会超过用于发送数据的带宽。

另外，<mark style="color:orange;">**为了能够使用正则表达式订阅主题，需要授予客户端获取集群全部主题元数据的权限，即全面描述整个集群的权限**</mark><mark style="color:orange;">。</mark>
{% endhint %}
